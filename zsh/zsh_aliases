# Color support of ls and grep
if [ -x /usr/bin/dircolors ]; then
    test -r ~/.dircolors && eval "$(dircolors -b ~/.dircolors)" || eval "$(dircolors -b)"
    alias ls="ls --color=auto"
    #alias dir="dir --color=auto"
    #alias vdir="vdir --color=auto"
fi

# Add flags by default.
alias anki="anki -b ~/.anki"
alias cp="cp -i"
alias egrep="egrep --color=auto"
alias fgrep="fgrep --color=auto"
alias grep="grep --color=auto"
alias mv="mv -i"
alias rm="rm -i"

# Shorten.
alias a="ant"
alias adbhelp="adb help 2>&1 | less"
alias -g ag="ag --color-line-number='0;33' --color-path='4;32' --color-match='0;35' --pager less"
alias c="ctags -R"
alias db="cd ~/Dropbox"
alias d="gdb"
alias dl="cd ~/Downloads"
alias e="vim"
alias ff="find . -type f"
alias ffj="ff -name \"*.java*\""
alias fn="find . -name"
alias -g fin="find"
alias fx="firefox"
alias g="git"
alias ghead="g log | head -n 1 | cut -f2 -d\" \" | xsel"
alias gr="./gradlew"
alias -g grepc="grep --color=always"
alias h="hg"
alias -g hgep='hg export tip > /home/mcomella/dev/patches/"$($HG qapplied | tail -n 1)"'
alias info="info --vi-keys"
alias kb="setxkbmap dvorak && setxkbmap -option ctrl:swapcaps"
alias la="ls -A"
alias lc="adb logcat -v time"
alias lcd="lc -d | less"
alias lcl="lc | grep lol"
alias less="less --search-skip-screen --ignore-case"
alias ll="ls -alF"
alias l="ls -CF"
alias mcm="m clean && m"
alias m="make -j9"
alias mac="mach"
alias pac="pacman"
alias sb="cd ~/dev/sb"
alias scr="screen"
alias spac="sudo pacman"
alias saura="sudo aura"
alias suspend="sudo pm-suspend && xlock"
alias u="fg" # For ergo reasons.
alias v="vim -R"
alias xl="xscreensaver-command -lock"
alias xxx="startx; exit"

# Mozilla
alias cs="mach gradle checkstyle"
alias hupfx="hg pull fx-team && hg update fx-team && hg bookmark build"
alias mb="mach build"
alias mba="mb mobile/android"
alias mbab="mb mobile/android/base"
alias mbr="mb mobile/android/base/resources"
alias mclob="mach clobber"
alias mp="mach package"
alias mi="mach install"
alias ma="mb && mp && mi"
alias maa="mba && mp && mi"
alias maab="mbab && mp && mi"
alias manew="mach clobber && mb && mp && gradlework"
alias mar="mbr && mp && mi"
alias mg="mach gradle"

MC_APP_RELEASE_ID=org.mozilla.tv.firefox
MC_APP_DEBUG_ID=$MC_APP_RELEASE_ID.debug

VARIANT="geckobetadebug"
PKG_ID="org.mozilla.fenix.debug"
alias grad="./gradlew assemble$VARIANT"
alias grtd="./gradlew test${VARIANT}unittest"
alias grid="./gradlew install$VARIANT"
alias grud="./gradlew uninstall$VARIANT"
alias std="adb shell am start -n $PKG_ID/.App"
alias fsd="adb shell am force-stop $PKG_ID"
VARIANT="geckobetaforperformancetest"
PKG_ID="org.mozilla.fenix.performancetest"
alias grap="./gradlew assemble$VARIANT"
alias grtp="./gradlew test${VARIANT}unittest"
alias grip="./gradlew install$VARIANT"
alias grup="./gradlew uninstall$VARIANT"
alias stp="adb shell am start -n $PKG_ID/.App"
alias fsp="adb shell am force-stop $PKG_ID"
VARIANT="geckobetafennecbeta"
PKG_ID="org.mozilla.firefox_beta"
alias grab="./gradlew assemble$VARIANT"
alias grtb="./gradlew test${VARIANT}unittest"
alias grib="./gradlew install$VARIANT"
alias grub="./gradlew uninstall$VARIANT"
alias stb="adb shell am start -n $PKG_ID/.App"
alias fsb="adb shell am force-stop $PKG_ID"
VARIANT="geckonightlyfennecnightly"
PKG_ID="org.mozilla.fennec_aurora"
alias gran="./gradlew assemble$VARIANT"
alias grtn="./gradlew test${VARIANT}unittest"
alias grin="./gradlew install$VARIANT"
alias grun="./gradlew uninstall$VARIANT"
alias stn="adb shell am start -n $PKG_ID/.App"
alias fsn="adb shell am force-stop $PKG_ID"

alias grlint="./gradlew ktlint detekt"
alias grcov="./gradlew -Pcoverage jacocoSystemDebugTestReport"
alias grtesta="./gradlew connectedsystemdebugandroidtest"
alias grtestac="./gradlew assemblesystemdebugandroidtest"

#alias std="adb shell am start -n $MC_APP_DEBUG_ID/org.mozilla.tv.firefox.MainActivity"
#alias pmcd="adb shell pm clear $MC_APP_DEBUG_ID"
#alias fsd="adb shell am force-stop $MC_APP_DEBUG_ID"
#alias uid="adb uninstall $MC_APP_DEBUG_ID"

alias str="adb shell am start -n $MC_APP_RELEASE_ID/org.mozilla.tv.firefox.MainActivity"
alias pmcr="adb shell pm clear $MC_APP_RELEASE_ID"
alias fsr="adb shell am force-stop $MC_APP_RELEASE_ID"
alias uir="adb uninstall $MC_APP_RELEASE_ID"

# Local config
if [ -f $HOME/.zsh_aliases_local ]; then
  . $HOME/.zsh_aliases_local
fi
